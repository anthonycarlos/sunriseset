require 'spec_helper'

describe UsnoGrabber do
  context "defaults" do
    Then { UsnoGrabber.grab == parsed_response }
  end

end

def parsed_response
"<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\">\n<html>\n<head>\n<title>Sun or Moon Rise/Set Table for One Year</title>\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=ISO-8859-1\">\n</head>\n<body>\n<pre>\n             o  ,    o  ,                                  WESTERVILLE, OHIO                           Astronomical Applications Dept.\nLocation: W082 55, N40 07                          Rise and Set for the Sun for 2014                   U. S. Naval Observatory        \n                                                                                                       Washington, DC  20392-5420     \n                                                         Eastern Standard Time                                                        \n                                                                                                                                      \n                                                                                                                                      \n       Jan.       Feb.       Mar.       Apr.       May        June       July       Aug.       Sept.      Oct.       Nov.       Dec.  \nDay Rise  Set  Rise  Set  Rise  Set  Rise  Set  Rise  Set  Rise  Set  Rise  Set  Rise  Set  Rise  Set  Rise  Set  Rise  Set  Rise  Set\n     h m  h m   h m  h m   h m  h m   h m  h m   h m  h m   h m  h m   h m  h m   h m  h m   h m  h m   h m  h m   h m  h m   h m  h m\n01  0754 1717  0740 1751  0705 1823  0616 1856  0532 1927  0505 1955  0506 2005  0530 1946  0559 1903  0628 1814  0701 1729  0735 1707\n02  0754 1718  0739 1752  0704 1825  0614 1857  0530 1928  0504 1956  0507 2005  0531 1945  0600 1902  0629 1812  0702 1728  0736 1706\n03  0754 1719  0738 1753  0702 1826  0612 1858  0529 1929  0504 1956  0507 2004  0532 1943  0601 1900  0630 1811  0703 1727  0737 1706\n04  0754 1720  0737 1754  0701 1827  0611 1859  0528 1930  0503 1957  0508 2004  0533 1942  0602 1858  0631 1809  0704 1726  0738 1706\n05  0754 1720  0736 1755  0659 1828  0609 1900  0527 1931  0503 1958  0508 2004  0534 1941  0603 1857  0632 1807  0706 1725  0739 1706\n06  0754 1721  0735 1757  0657 1829  0608 1901  0526 1932  0503 1958  0509 2004  0535 1940  0604 1855  0633 1806  0707 1723  0739 1706\n07  0754 1722  0734 1758  0656 1830  0606 1902  0524 1933  0503 1959  0510 2003  0535 1939  0605 1854  0634 1804  0708 1722  0740 1706\n08  0754 1723  0733 1759  0654 1831  0604 1903  0523 1934  0502 1959  0510 2003  0536 1938  0606 1852  0635 1803  0709 1721  0741 1706\n09  0754 1724  0732 1800  0653 1832  0603 1904  0522 1935  0502 2000  0511 2003  0537 1936  0607 1850  0636 1801  0710 1720  0742 1706\n10  0754 1725  0731 1801  0651 1833  0601 1905  0521 1936  0502 2000  0512 2002  0538 1935  0608 1849  0637 1800  0711 1719  0743 1706\n11  0753 1726  0730 1803  0650 1834  0600 1906  0520 1937  0502 2001  0512 2002  0539 1934  0609 1847  0638 1758  0712 1718  0744 1706\n12  0753 1727  0728 1804  0648 1835  0558 1907  0519 1938  0502 2001  0513 2001  0540 1933  0610 1845  0639 1757  0714 1718  0745 1706\n13  0753 1728  0727 1805  0646 1836  0557 1908  0518 1939  0502 2002  0514 2001  0541 1931  0611 1844  0640 1755  0715 1717  0745 1706\n14  0752 1730  0726 1806  0645 1837  0555 1909  0517 1940  0502 2002  0514 2000  0542 1930  0612 1842  0641 1753  0716 1716  0746 1707\n15  0752 1731  0725 1807  0643 1839  0554 1910  0516 1940  0502 2003  0515 2000  0543 1928  0613 1840  0642 1752  0717 1715  0747 1707\n16  0752 1732  0723 1809  0642 1840  0552 1911  0515 1941  0502 2003  0516 1959  0544 1927  0614 1839  0643 1751  0718 1714  0747 1707\n17  0751 1733  0722 1810  0640 1841  0551 1912  0514 1942  0502 2003  0517 1959  0545 1926  0614 1837  0644 1749  0719 1714  0748 1708\n18  0751 1734  0721 1811  0638 1842  0549 1913  0513 1943  0502 2004  0518 1958  0546 1924  0615 1835  0645 1748  0721 1713  0749 1708\n19  0750 1735  0719 1812  0637 1843  0548 1914  0513 1944  0502 2004  0518 1957  0547 1923  0616 1834  0647 1746  0722 1712  0749 1708\n20  0750 1736  0718 1813  0635 1844  0546 1915  0512 1945  0502 2004  0519 1956  0548 1921  0617 1832  0648 1745  0723 1711  0750 1709\n21  0749 1737  0717 1814  0633 1845  0545 1916  0511 1946  0503 2004  0520 1956  0549 1920  0618 1830  0649 1743  0724 1711  0750 1709\n22  0748 1739  0715 1816  0632 1846  0544 1917  0510 1947  0503 2005  0521 1955  0550 1919  0619 1829  0650 1742  0725 1710  0751 1710\n23  0748 1740  0714 1817  0630 1847  0542 1918  0510 1948  0503 2005  0522 1954  0551 1917  0620 1827  0651 1741  0726 1710  0751 1710\n24  0747 1741  0712 1818  0629 1848  0541 1919  0509 1949  0503 2005  0523 1953  0552 1916  0621 1825  0652 1739  0727 1709  0752 1711\n25  0746 1742  0711 1819  0627 1849  0539 1921  0508 1949  0504 2005  0523 1952  0553 1914  0622 1824  0653 1738  0728 1709  0752 1712\n26  0746 1743  0710 1820  0625 1850  0538 1922  0508 1950  0504 2005  0524 1952  0554 1913  0623 1822  0654 1737  0729 1708  0752 1712\n27  0745 1745  0708 1821  0624 1851  0537 1923  0507 1951  0504 2005  0525 1951  0555 1911  0624 1820  0655 1735  0731 1708  0753 1713\n28  0744 1746  0707 1822  0622 1852  0535 1924  0507 1952  0505 2005  0526 1950  0556 1909  0625 1819  0656 1734  0732 1708  0753 1714\n29  0743 1747             0620 1853  0534 1925  0506 1953  0505 2005  0527 1949  0557 1908  0626 1817  0658 1733  0733 1707  0753 1714\n30  0742 1748             0619 1854  0533 1926  0505 1953  0506 2005  0528 1948  0557 1906  0627 1816  0659 1731  0734 1707  0754 1715\n31  0741 1749             0617 1855             0505 1954             0529 1947  0558 1905             0700 1730             0754 1716\n\n                                             Add one hour for daylight time, if and when in use.\n\n</pre>\n<p><a href=\"javascript:history.go(-1)\">Back to form</a></p>\n</body>\n</html>\n"
end
